{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ user_profile.fullname }} - Resume</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="{% static 'styles.css' %}" rel="stylesheet">
</head>
<body>
  <!-- Header -->
  <div class="container my-5 p-5 shadow bg-white">
    <div class="text-center mb-4">
      <h1>{{ user_profile.fullname }}</h1>
      <h4 class="text-primary">{{ user_profile.title }}</h4>
      <p>{{ user_profile.bio }}</p>
      <div>
        <span>{{ user_profile.location }}</span> |
        {% if user_profile.linkedin_url %}<a href="{{ user_profile.linkedin_url }}" target="_blank">LinkedIn</a> |{% endif %}
        {% if user_profile.github_url %}<a href="{{ user_profile.github_url }}" target="_blank">GitHub</a>{% endif %}
      </div>
    </div>

    <!-- Skills -->
    {% if skills %}
    <section class="mb-4">
      <h3>Technical Skills</h3>
      <hr>
      <div class="row">
        {% for skill in skills %}
        <div class="col-md-3 mb-2">
          <span class="badge bg-primary">{{ skill.skill_name }}</span>
        </div>
        {% endfor %}
      </div>
    </section>
    {% endif %}

    <!-- Work Experience -->
    {% if experiences %}
    <section class="mb-4">
      <h3>Work Experience</h3>
      <hr>
      {% for exp in experiences %}
      <div class="mb-3">
        <h5>{{ exp.job_title }} - {{ exp.company_name }}</h5>
        <span>{{ exp.start_date|date:"Y-m" }} - {% if exp.end_date %}{{ exp.end_date|date:"Y-m" }}{% else %}Present{% endif %}</span>
        <p>{{ exp.description }}</p>
      </div>
      {% endfor %}
    </section>
    {% endif %}

    <!-- Education -->
    {% if educations %}
    <section class="mb-4">
      <h3>Education</h3>
      <hr>
      {% for edu in educations %}
      <div class="mb-3">
        <h5>{{ edu.degree }} in {{ edu.field_of_study }}</h5>
        <span>{{ edu.institution }} | {{ edu.start_date|date:"Y" }} - {% if edu.end_date %}{{ edu.end_date|date:"Y" }}{% else %}Present{% endif %}</span>
        {% if edu.cgpa %}<p>CGPA: {{ edu.cgpa }}/{{ edu.out_of }}</p>{% endif %}
        <p>{{ edu.description }}</p>
      </div>
      {% endfor %}
    </section>
    {% endif %}

    <!-- Projects -->
    {% if projects %}
    <section class="mb-4">
      <h3>Projects</h3>
      <hr>
      {% for project in projects %}
      <div class="mb-3">
        <h5>{{ project.title }}</h5>
        {% if project.tech_list %}
<p><strong>Technologies:</strong> 
  {% for tech in project.tech_list %} {{ tech }}{% if not forloop.last %}, {% endif %}
  {% endfor %}
</p>
{% endif %}
        <p>{{ project.description }}</p>
        <div>
          {% if project.project_url %}<a href="{{ project.project_url }}" target="_blank" class="btn btn-sm btn-primary">View</a>{% endif %}
          {% if project.git_hub_url %}<a href="{{ project.git_hub_url }}" target="_blank" class="btn btn-sm btn-dark">Code</a>{% endif %}
        </div>
      </div>
      {% endfor %}
    </section>
    {% endif %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
